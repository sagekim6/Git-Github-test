# Git 명령어

|        명령어        | 기능                                          |
| :------------------: | --------------------------------------------- |
|  `cd [디렉토리명]`   | 선택한 디렉토리로 이동                        |
|        `pwd`         | 현재 위치 확인                                |
| `mkdir [디렉토리명]` | 새 디렉토리 만들기                            |
|         `ls`         | 디렉토리 내용 출력(ls -al로 합쳐서 사용 가능) |
|       `ls -a`        | 디렉토리의 숨김 파일과 디렉토리까지 출력      |
|       `ls -l`        | 디렉토리안에 있는 폴더 상세 정보 출력         |
|   `touch[파일명]`    | 해당 위치에 파일을 생성한다                   |

## Git 명령어

|                 명령어                 | 기능                                                    |
| :------------------------------------: | ------------------------------------------------------- |
|               `git init`               | 현재 지역 저장소에 초기화하기                           |
|              `git add .`               | 변경된 파일을 전부 staging area에 올린다                |
|           `git add [파일명]`           | 해당 파일만을 staging area에 올린다                     |
|          `git reset [파일명]`          | staging area에서 해당 파일을 제거                       |
|       `git reset [커밋 아이디]`        | 해당 커밋으로 이동                                      |
|              `git status`              | 현재 git의 상태 확인                                    |
|              `git commit`              | stage area에 있는 파일을 커밋                           |
|      `git commit -m "커밋메세지"`      | 커밋 메세지와 동시에 커밋하기                           |
|          `git commit --amend`          | 최신 커밋 수정하기 다시 새로운 커밋으로 만들기          |
|        `git push origin master`        | origin master브랜치에 푸시                              |
|         `git push origin main`         | origin main 브랜치에 푸시                               |
|               `git pull`               | 원격 저장소의 내용을 로컬 저장소에 반영한다             |
|       `git clone [저장소 주소]`        | 깃허브 프로젝트의 저장소를 그대로 복제                  |
|               `git log`                | 커밋 히스토리 보기                                      |
|        `git show [커밋 아이디]`        | 해당 커밋의 자세한 변경 사항 보기                       |
| `git diff [커밋 아이디] [커밋 아이디]` | 두 커밋 간의 변화 보기                                  |
|       `git revert [커밋 아이디]`       | 해당 커밋에서 작성한 코드를 되돌리고 그걸 다시 커밋한다 |

## `vim`명령어

| 명령어 | 기능          |
| :----: | :------------ |
|  `i`   | 입력 모드     |
|  `q`   | 종료          |
| `:wq`  | 에디터 나가기 |
| `esc`  | 저장          |

### 특정 명령어 검색하기

- `git help [명령어]` : 새로운 명령어의 의미나 사용법을 좀더 자세히 알고 싶을 때 사용

### 다른 사용자도 `git push` 할 수 있게하기

원칙적으로 자신의 레포지토리에는 자신만 `git push`를 할 수 있다. 하지만 설정을 통해 다른 사용자도 가능하게 해줄 수 있다.

1. 저장소의 <b>settings</b>에 들어간다.
2. Access -> Collaborator 클릭
3. Manage access에서 Add people을 해준다.

## `git reset`에 관하여

- `git reset [옵션] [커밋 아이디]`

- `[커밋 아이디]`를 `HEAD^`로 작성해도 된다. HEAD가 가리키는 바로 이전의 커밋을 나타냄.
- `git reset`을 사용하면 브랜치의 위치가 바뀐다. 그리고 바뀐 브랜치를 `HEAD`가 가리키게 되는 원리로 커밋을 돌아다닐 수 있다.

이럴때 사용:

1. 과거 커밋으로 아예 돌아가고 싶을 때 : `HEAD`가 과거 커밋을 가리키고 working directory의 내부도 그 과거 커밋의 모습으로 바뀐다.
2. staging area에 해당 파일을 지우고 싶을 때

<b>옵션</b>

- `HEAD`가 과거의 커밋을 가리키게 되는 결과는 git reset에서 어느 옵션을 쓰든 항상 똑같다.
- 3가지 영역중 어느 영역까지 reset시킬건지 정할 수있다.

|   옵션    |    Working Diretory     |      Staging Area       |         Repository          |
| :-------: | :---------------------: | :---------------------: | :-------------------------: |
| `--soft`  |         안 바뀜         |         안 바뀜         | `HEAD`가 해당 커밋을 가리킴 |
| `--mixed` |         안 바뀜         | 해당 커밋 아이디로 바뀜 | `HEAD`가 해당 커밋을 가리킴 |
| `--hard`  | 해당 커밋 아이디로 바뀜 | 해당 커밋 아이디로 바뀜 | `HEAD`가 해당 커밋을 가리킴 |

- `git reset`을 사용한다고 커밋이 삭제되진 않는다.
- 과거 커밋 뿐만 아니라 `HEAD`이후의 커밋으로도 갈 수 있다.

## 커밋에 `tag`달기

- `git tag [태그 이름] [커밋 아이디]`
- 커밋을 할 때 태그(tag)를 추가적으로 달 수 있다.
- 보통 프로젝트에서 주요 버전의 시작점이 되는 커밋에 태그를 단다.

## `git pull` VS `git fetch`

- `git pull`은 리모트 레포지토리에 있는 커밋을 로컬로 가져와 바로 merge한다.
- `git fetch`는 리모트 레포지토리에 있는 브랜치의 내용을 일단 가져와서 살펴본 후에 merge하고 싶을 때 사용한다.
  - `git fetch` 실행 후 `git diff`로 차이를 확인한 후 merge한다.  
    -> 즉, `git pull`은 `git fetch` + `merge`이다.

## `git revert`

- 해당 커밋에서 작성한 코드를 되돌리고 그걸 다시 커밋한다.
- 여러개의 커밋을 취소할 수도 있다.
  - `git revert [커밋 아이디1]..[커밋 아이디2]` : 커밋 아이디1은 포함되지 않고 다음 커밋 부터 커밋 아이디2까지 취소할 수 있다.

## `git stash` : 작업 내용 임시저장하기

- 최근 커밋 이후로 작업했던 내용은 모두 스택에 옮겨지고 working directory 내부는 다시 최근 커밋의 상태로 초기화된다.
- 현재 브랜치에서 내용을 임시저장하고 다른 브랜치로 이동해 내용을 다시 불러올 수도 있다.
- `git stash list` : 내용이 잘 저장됬는지 확인
- `git stash apply [작업 아이디]` : 보관한 작업물 다시 불러오기
- `git stash drop [작업 아이디]` : 보관한 내용 삭제
- `git stash pop [작업 아이디]` : 작업 내영을 적용하고 바로 스택에서 삭제도 한다.
